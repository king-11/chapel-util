

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>CommDiagnostics &mdash; Chapel Documentation 1.25</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Memory" href="Memory.html" />
    <link rel="prev" title="Set" href="Set.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.25
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.25";
$pagename = "modules/standard/CommDiagnostics";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../standard.html">Standard Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../standard.html#automatic-modules">Automatic Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#data-structures">Data Structures</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../standard.html#diagnostics">Diagnostics</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">CommDiagnostics</a></li>
<li class="toctree-l3"><a class="reference internal" href="Memory.html">Memory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#files-io">Files/IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#language-support">Language Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#math-numerical">Math/Numerical</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#parallelism-distributed-computing">Parallelism/Distributed Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#system-interoperability">System/Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../standard.html#index">Index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>
<p class="caption"><span class="caption-text">Compiler Internals</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../compiler-internals/index.html">Compiler Internals</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../standard.html">Standard Modules</a> &raquo;</li>
        
      <li>CommDiagnostics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/modules/standard/CommDiagnostics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-CommDiagnostics"></span><div class="section" id="commdiagnostics">
<h1>CommDiagnostics<a class="headerlink" href="#commdiagnostics" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">CommDiagnostics</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">CommDiagnostics</span><span class="p">;</span>
</pre></div>
</div>
<p>This module provides support for reporting and counting
communication operations between network-connected locales.  The
operations include various kinds of remote reads (GETs), remote
writes (PUTs), and remote executions.
Callers can request on-the-fly output each time a remote operation
occurs, or count such operations as they occur and retrieve the
counts later.  The former gives more detailed information but has
much more overhead.  The latter has much less overhead but only
provides aggregate information.</p>
<p><strong>On-the-fly Reporting</strong></p>
<p>All forms of communication reporting and counting are done between
pairs of function calls that turn it on and off.  On-the-fly
reporting across all locales is done like this:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">startVerboseComm</span><span class="p">();</span>
<span class="c1">// between start/stop calls, report comm ops initiated on any locale</span>
<span class="nx">stopVerboseComm</span><span class="p">();</span>
</pre></div>
</div>
<p>On-the-fly reporting for just the calling locale is similar.  Only
the procedure names change:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">startVerboseCommHere</span><span class="p">();</span>
<span class="c1">// between start/stop calls, report comm ops initiated on this locale</span>
<span class="nx">stopVerboseCommHere</span><span class="p">();</span>
</pre></div>
</div>
<p>In either case, the output produced consists of a line written to
<code class="docutils literal notranslate"><span class="pre">stdout</span></code> for each communication operation.  (Here <code class="docutils literal notranslate"><span class="pre">stdout</span></code> means
the file associated with the process, not the Chapel channel with the
same name.)</p>
<p>Consider this little example program:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">CommDiagnostics</span><span class="p">;</span>
<span class="k">proc</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">startVerboseComm</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">on</span> <span class="nx">Locales</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>     <span class="c1">// should execute_on a blocking task onto locale 1</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>        <span class="c1">// should invoke a remote put and a remote get</span>
  <span class="p">}</span>
  <span class="nx">stopVerboseComm</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Executing this on two locales with the <code class="docutils literal notranslate"><span class="pre">-nl</span> <span class="pre">2</span></code> command line
option results in the following output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">0</span>: remote task created on <span class="m">1</span>
<span class="m">1</span>: t.chpl:6: remote get from <span class="m">0</span>, <span class="m">8</span> bytes
<span class="m">1</span>: t.chpl:6: remote put to <span class="m">0</span>, <span class="m">8</span> bytes
</pre></div>
</div>
<p>The initial number refers to the locale reporting the communication
event.  The file name and line number point to the place in the
code that triggered the communication event.  (For remote execute_ons,
file name and line number information is not yet reported.)</p>
<p><strong>Counting Communication Operations</strong></p>
<p>Counting communication operations requires a few more calls then just
reporting them does.  In particular, the counts have to be retrieved
after they are collected and, if they have been used previously, the
internal counters have to be reset before counting is turned on.
Counting across all locales is done like this:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="c1">// (optional) if we counted previously, reset the counters to zero</span>
<span class="nx">resetCommDiagnostics</span><span class="p">();</span>
<span class="nx">startCommDiagnostics</span><span class="p">();</span>
<span class="c1">// between start/stop calls, count comm ops initiated on any locale</span>
<span class="nx">stopCommDiagnostics</span><span class="p">();</span>
<span class="c1">// retrieve the counts and report the results</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">getCommDiagnostics</span><span class="p">());</span>
</pre></div>
</div>
<p>Counting on just the calling locale is similar.  Just as for
on-the-fly reporting, only the procedure names change:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="c1">// (optional) if we counted previously, reset the counters to zero</span>
<span class="nx">resetCommDiagnosticsHere</span><span class="p">();</span>
<span class="nx">startCommDiagnosticsHere</span><span class="p">();</span>
<span class="c1">// between start/stop calls, count comm ops initiated on this locale</span>
<span class="nx">stopCommDiagnosticsHere</span><span class="p">();</span>
<span class="c1">// retrieve the counts and report the results</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">getCommDiagnosticsHere</span><span class="p">());</span>
</pre></div>
</div>
<p>The optional call to reset the counters is only needed when a program
collects counts more than once.  In this case, the counters have to
be set back to zero before starting the second and succeeding
counting periods.  By far the most common situation is that programs
only collect communication counts once per run, in which case this
step is not needed.</p>
<p>Note that the same internal mechanisms and counters are used for
counting on all locales and counting on just the calling locale, so
trying to do both at once may lead to surprising turn-on/turn-off
behavior and/or incorrect results.</p>
<p>Consider this little example program:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">CommDiagnostics</span><span class="p">;</span>
<span class="k">proc</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">startCommDiagnostics</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">on</span> <span class="nx">Locales</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>     <span class="c1">// should execute_on a blocking task onto locale 1</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>        <span class="c1">// should invoke a remote put and a remote get</span>
  <span class="p">}</span>
  <span class="nx">stopCommDiagnostics</span><span class="p">();</span>
  <span class="nx">writeln</span><span class="p">(</span><span class="nx">getCommDiagnostics</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Executing this on two locales with the <code class="docutils literal notranslate"><span class="pre">-nl</span> <span class="pre">2</span></code> command line
option results in the following output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span><span class="nv">execute_on</span> <span class="o">=</span> <span class="m">1</span><span class="o">)</span> <span class="o">(</span><span class="nv">get</span> <span class="o">=</span> <span class="m">1</span>, <span class="nv">put</span> <span class="o">=</span> <span class="m">1</span><span class="o">)</span>
</pre></div>
</div>
<p>The first parenthesized group contains the counts for locale 0, and
the second contains the counts for locale 1.  So, for the
instrumented section of this program we can say that a remote execute_on
was executed on locale 0, and a remote get and a remote put were
executed on locale 1.</p>
<p><strong>Studying Communication During Module Initialization</strong></p>
<p>It is hard for a programmer to determine exactly what happens during
initialization or teardown of a module, because the code that runs
then does so only implicitly, as a result of the declarations
present.  And even if that code can be identified, doing debug
output or logging data for later reporting might not work because
the Chapel capabilities needed to do so could be unavailable due to
being implemented by built-in modules which themselves are not yet
initialized, or have already been torn down.</p>
<p>To help with that problem, this module provides built-in support for
studying communication operations during module initialization and
teardown.  To use it, set either or both of the config params
<a class="reference internal" href="#CommDiagnostics.printInitVerboseComm" title="CommDiagnostics.printInitVerboseComm"><code class="xref chpl chpl-param docutils literal notranslate"><span class="pre">printInitVerboseComm</span></code></a> and <a class="reference internal" href="#CommDiagnostics.printInitCommCounts" title="CommDiagnostics.printInitCommCounts"><code class="xref chpl chpl-param docutils literal notranslate"><span class="pre">printInitCommCounts</span></code></a>,
described below.  You can do this by using appropriate
<code class="docutils literal notranslate"><span class="pre">-sconfigParamName=value</span></code> command line options when you compile
your program.</p>
<p>The reporting and/or counting enabled by these covers all of program
execution, from just before the first module is initialized until
just after the last one is torn down.  This is almost always a
superset of the part of the program that is of interest, which is
often just a single module.  To learn what communication is being
done by a single module during its initialization and teardown it is
often necessary to run a small test program twice, once with that
module present and once without it.</p>
<dl class="chpl data">
<dt class="sig sig-object chpl" id="CommDiagnostics.commDiagsStacktrace">
<em class="property"><span class="pre">config</span> <span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">commDiagsStacktrace</span></span> <span class="pre">=</span> <span class="pre">false</span><a class="headerlink" href="#CommDiagnostics.commDiagsStacktrace" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Print out stack traces for comm events printed after startVerboseComm</p>
</dd></dl>

<dl class="chpl data">
<dt class="sig sig-object chpl" id="CommDiagnostics.commDiagsPrintUnstable">
<em class="property"><span class="pre">config</span> <span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">commDiagsPrintUnstable</span></span> <span class="pre">=</span> <span class="pre">false</span><a class="headerlink" href="#CommDiagnostics.commDiagsPrintUnstable" title="Permalink to this definition">Â¶</a></dt>
<dd><p>If this is <cite>false</cite>, a written <cite>commDiagnostics</cite> value does not
include âunstableâ fields even when they are non-zero.  Unstable
fields are those expected to have unpredictable values for multiple
executions of the same code sequence.  Setting this to <cite>true</cite> causes
such fields, if non-zero, to be included when a <cite>commDiagnostics</cite>
value is written.  At present the only unstable field is the <cite>amo</cite>
counter, whose instability is due to the use of atomic reads in spin
loops that wait for parallelism and on-statements to complete.</p>
</dd></dl>

<dl class="chpl record">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics">
<em class="property"><span class="pre">record</span> </em><span class="sig-name descname"><span class="pre">chpl_commDiagnostics</span></span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Aggregated communication operation counts.  This record type is
defined in the same way by both the underlying comm layer(s) and
this module, because we donât have a good way to inherit types back
and forth between the two.  This first definition duplicates the
one in the comm layer(s).</p>
<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.get">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">get</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.get" title="Permalink to this definition">Â¶</a></dt>
<dd><p>blocking GETs, in which initiator waits for completion</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.get_nb">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">get_nb</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.get_nb" title="Permalink to this definition">Â¶</a></dt>
<dd><p>non-blocking GETs</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.put">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">put</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.put" title="Permalink to this definition">Â¶</a></dt>
<dd><p>blocking PUTs, in which initiator waits for completion</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.put_nb">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">put_nb</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.put_nb" title="Permalink to this definition">Â¶</a></dt>
<dd><p>non-blocking PUTs</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.test_nb">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">test_nb</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.test_nb" title="Permalink to this definition">Â¶</a></dt>
<dd><p>tests for non-blocking GET/PUT completions</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.wait_nb">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">wait_nb</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.wait_nb" title="Permalink to this definition">Â¶</a></dt>
<dd><p>blocking waits for non-blocking GET/PUT completions</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.try_nb">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">try_nb</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.try_nb" title="Permalink to this definition">Â¶</a></dt>
<dd><p>non-blocking waits for non-blocking GET/PUT completions</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.amo">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">amo</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.amo" title="Permalink to this definition">Â¶</a></dt>
<dd><p>atomic memory operations</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.execute_on">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">execute_on</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.execute_on" title="Permalink to this definition">Â¶</a></dt>
<dd><p>blocking remote executions, in which initiator waits for completion</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.execute_on_fast">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">execute_on_fast</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.execute_on_fast" title="Permalink to this definition">Â¶</a></dt>
<dd><p>blocking remote executions performed by the target localeâs
Active Message handler</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.execute_on_nb">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">execute_on_nb</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.execute_on_nb" title="Permalink to this definition">Â¶</a></dt>
<dd><p>non-blocking remote executions</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.cache_get_hits">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">cache_get_hits</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.cache_get_hits" title="Permalink to this definition">Â¶</a></dt>
<dd><p>GETs that were handled by the cache. GETs counted here did not require
the cache to communicate in order to return the result.</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.cache_get_misses">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">cache_get_misses</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.cache_get_misses" title="Permalink to this definition">Â¶</a></dt>
<dd><p>GETs that were not handled by the cache - that is, GETs where the
cache needed to communicate with another locale.</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.cache_put_hits">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">cache_put_hits</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.cache_put_hits" title="Permalink to this definition">Â¶</a></dt>
<dd><p>PUTs that were stored in cache pages that already existed.</p>
</dd></dl>

<dl class="chpl attribute">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.cache_put_misses">
<em class="property"><span class="pre">var</span> </em><span class="sig-name descname"><span class="pre">cache_put_misses</span></span><span class="pre">:</span> <span class="pre">uint(64)</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.cache_put_misses" title="Permalink to this definition">Â¶</a></dt>
<dd><p>PUTs that required the cache to create a new page to store them.</p>
</dd></dl>

<dl class="chpl method">
<dt class="sig sig-object chpl" id="CommDiagnostics.chpl_commDiagnostics.writeThis">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">writeThis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">c</span></em><span class="sig-paren">)</span> <span class="pre">throws</span><a class="headerlink" href="#CommDiagnostics.chpl_commDiagnostics.writeThis" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="chpl type">
<dt class="sig sig-object chpl" id="CommDiagnostics.commDiagnostics">
<em class="property"><span class="pre">type</span> </em><span class="sig-name descname"><span class="pre">commDiagnostics</span></span> <span class="pre">=</span> <span class="pre">chpl_commDiagnostics</span><a class="headerlink" href="#CommDiagnostics.commDiagnostics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>The Chapel record type inherits the comm layer definition of it.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.startVerboseComm">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">startVerboseComm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.startVerboseComm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Start on-the-fly reporting of communication initiated on any locale.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.stopVerboseComm">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">stopVerboseComm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.stopVerboseComm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Stop on-the-fly reporting of communication initiated on any locale.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.startVerboseCommHere">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">startVerboseCommHere</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.startVerboseCommHere" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Start on-the-fly reporting of communication initiated on this locale.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.stopVerboseCommHere">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">stopVerboseCommHere</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.stopVerboseCommHere" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Stop on-the-fly reporting of communication initiated on this locale.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.startCommDiagnostics">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">startCommDiagnostics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.startCommDiagnostics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Start counting communication operations across the whole program.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.stopCommDiagnostics">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">stopCommDiagnostics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.stopCommDiagnostics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Stop counting communication operations across the whole program.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.startCommDiagnosticsHere">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">startCommDiagnosticsHere</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.startCommDiagnosticsHere" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Start counting communication operations initiated on this locale.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.stopCommDiagnosticsHere">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">stopCommDiagnosticsHere</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.stopCommDiagnosticsHere" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Stop counting communication operations initiated on this locale.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.resetCommDiagnostics">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">resetCommDiagnostics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.resetCommDiagnostics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reset aggregate communication counts across the whole program.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.resetCommDiagnosticsHere">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">resetCommDiagnosticsHere</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.resetCommDiagnosticsHere" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Reset aggregate communication counts on the calling locale.</p>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.getCommDiagnostics">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getCommDiagnostics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.getCommDiagnostics" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Retrieve aggregate communication counts for the whole program.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>array of counts of comm ops initiated on each locale</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>[LocaleSpace] commDiagnostics</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.getCommDiagnosticsHere">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">getCommDiagnosticsHere</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.getCommDiagnosticsHere" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Retrieve aggregate communication counts for this locale.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>counts of comm ops initiated on this locale</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>commDiagnostics</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt class="sig sig-object chpl" id="CommDiagnostics.printCommDiagnosticsTable">
<em class="property"><span class="pre">proc</span> </em><span class="sig-name descname"><span class="pre">printCommDiagnosticsTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">printEmptyColumns</span> <span class="pre">=</span> <span class="pre">false</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CommDiagnostics.printCommDiagnosticsTable" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Print the current communication counts in a markdown table using a
row per locale and a column per operation.  By default, operations
for which all locales have a count of zero are not displayed in
the table, though an argument can be used to reverse that
behavior.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><p><strong>printEmptyColumns</strong> : <cite>bool</cite> â Indicates whether empty columns should be printed (defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl data">
<dt class="sig sig-object chpl" id="CommDiagnostics.printInitVerboseComm">
<em class="property"><span class="pre">config</span> <span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">printInitVerboseComm</span></span> <span class="pre">=</span> <span class="pre">false</span><a class="headerlink" href="#CommDiagnostics.printInitVerboseComm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>If this is set, on-the-fly reporting of communication operations
will be turned on before any module initialization begins and
turned off after all module teardown ends.  See procedures
<a class="reference internal" href="#CommDiagnostics.startVerboseComm" title="CommDiagnostics.startVerboseComm"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">startVerboseComm</span></code></a> and <a class="reference internal" href="#CommDiagnostics.stopVerboseComm" title="CommDiagnostics.stopVerboseComm"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">stopVerboseComm</span></code></a> for more
information.</p>
</dd></dl>

<dl class="chpl data">
<dt class="sig sig-object chpl" id="CommDiagnostics.printInitCommCounts">
<em class="property"><span class="pre">config</span> <span class="pre">param</span> </em><span class="sig-name descname"><span class="pre">printInitCommCounts</span></span> <span class="pre">=</span> <span class="pre">false</span><a class="headerlink" href="#CommDiagnostics.printInitCommCounts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>If this is set, communication operations are counted from before
any module initialization begins until after all module teardown
ends, and then the aggregate counts are printed.  See procedures
<a class="reference internal" href="#CommDiagnostics.startCommDiagnostics" title="CommDiagnostics.startCommDiagnostics"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">startCommDiagnostics</span></code></a>, <a class="reference internal" href="#CommDiagnostics.stopCommDiagnostics" title="CommDiagnostics.stopCommDiagnostics"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">stopCommDiagnostics</span></code></a>, and
<a class="reference internal" href="#CommDiagnostics.getCommDiagnostics" title="CommDiagnostics.getCommDiagnostics"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">getCommDiagnostics</span></code></a> for more information.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="Memory.html" class="btn btn-neutral float-right" title="Memory" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="Set.html" class="btn btn-neutral float-left" title="Set" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Hewlett Packard Enterprise Development LP.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>